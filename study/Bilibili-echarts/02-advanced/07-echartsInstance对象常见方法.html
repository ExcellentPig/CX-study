<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>echartsInstance对象常见方法</title>
		<script src="./lib/echarts.min.js"></script>
		<script src="./lib/jquery.min.js"></script>
	</head>
	<body>
		<div id="box" style="width: 600px;height: 400px;"></div>
		<button id="btn1">触发行为</button>
		<button id="btn2">clear</button>
		<button id="btn3">setOption</button>
		<button id="btn4">dispose</button>
		<script>
			
			var mCharts = echarts.init(document.querySelector('#box'))
		
			var pieData = [
			  {
			    name: '淘宝',
			    value: 11231
			  },
			  {
			    name: '京东',
			    value: 22673
			  },
			  {
			    name: '唯品会',
			    value: 6123
			  },
			  {
			    name: '1号店',
			    value: 8989
			  },
			  {
			    name: '聚美优品',
			    value: 6700
			  }
			]
			var option = {
				legend: {
					data: [
						'淘宝','京东','唯品会','1号店','聚美优品',
					]
				},
				series: [
					{
						type: 'pie',
						data: pieData
					}
				]
			}
			mCharts.setOption(option)
			
			// 对事件进行监听
			mCharts.on('click', function(arg) {
				console.log('click...', arg)
			})
			
			//解绑事件
			mCharts.off('click')
			
			
			mCharts.on('legendselectchanged', function(arg) {
				console.log(arg)
			})
			
			
			$('#btn1').click(function() {
				mCharts.dispatchAction({
					type: 'highlight', // 高亮
					seriesIndex: 0, // 系列索引
					dataIndex: 1 // 数据索引
				})
				// mCharts.dispatchAction({
				// 	type: 'showTip',
				// 	seriesIndex: 0,
				// 	dataIndex: 2
				// })
			})
			
			$('#btn2').click(function() {
				mCharts.clear()
			})
			
			$('#btn3').click(function() {
				mCharts.setOption(option)
			})
			
			$('#btn4').click(function() {
				// 销毁实例对象
				mCharts.dispose()
			})
			
		</script>
	</body>
</html>

<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>fetch</title>
		<script src="lib/vue.js"></script>
	</head>
	<body>
		<div id="app">
			<button @click="handleClick">获取信息</button>
			<ul>
				<li v-for="data in datalist" :key="data.filmId">
					<p>{{ data.name }}</p>
					<img :src="data.poster">
				</li>
			</ul>
		</div>
		<script>
			
			// fetch("./lib/test.json").then(res=>{
			// 	return res.json() // 第一个then拿不到数据
			// }).then(res=>{
			// 	console.log(res)
			// })
			
			
			let vm = new Vue({
				el: "#app",
				data: {
					datalist:[]
				},
				methods: {
					handleClick() {
						fetch("./lib/test.json").then(res=>{
							return res.json() // 第一个then拿不到数据
						}).then(res=>{
							console.log(res)
							this.datalist = res.data.films
						})
					}
				}
			})
			
		</script>
	</body>
</html>
